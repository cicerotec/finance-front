<mat-card>
    <mat-card-title>
        Novo Registro
    </mat-card-title>
    <form action="">
        
        <!-- INICIO - DATAS -->          
        <div>
            <mat-form-field appearance="outline">
                <mat-label>Data de referência</mat-label>
                <input 
                    matInput [ngxMatDatetimePicker]="pickerRef" 
                    placeholder="Insira a data" 
                    [(ngModel)]="finance.data_de_referencia" 
                    name="data_de_referencia">
                <mat-hint>dd/mm/aaaa hh:mm:ss</mat-hint>
                <mat-datepicker-toggle matSuffix [for]="$any(pickerRef)"></mat-datepicker-toggle>
                <ngx-mat-datetime-picker #pickerRef color="primary" [showSeconds]="true"></ngx-mat-datetime-picker>
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Data do evento</mat-label>
                <input 
                    matInput [ngxMatDatetimePicker]="pickerEvent" 
                    placeholder="Insira a data" 
                    [(ngModel)]="finance.data_do_evento" 
                    name="data_do_evento">
                <mat-hint>dd/mm/aaaa hh:mm:ss</mat-hint>            
                <mat-datepicker-toggle matSuffix [for]="$any(pickerEvent)"></mat-datepicker-toggle>
                <ngx-mat-datetime-picker #pickerEvent color="accent" [showSeconds]="true"></ngx-mat-datetime-picker>
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Data do pagamento</mat-label>
                <input 
                    matInput [ngxMatDatetimePicker]="pickerPay" 
                    placeholder="Insira a data" 
                    [(ngModel)]="finance.data_do_pagamento" 
                    name="data_do_pagamento">
                <mat-hint>dd/mm/aaaa hh:mm:ss</mat-hint>            
                <mat-datepicker-toggle matSuffix [for]="$any(pickerPay)"></mat-datepicker-toggle>
                <ngx-mat-datetime-picker #pickerPay color="warn" [showSeconds]="true"></ngx-mat-datetime-picker>
            </mat-form-field>
        </div>    
        <!-- FIM - DATAS -->         
        
        <!-- INICIO - DESCRIÇÃO | NOTA --> 
        <mat-form-field appearance="outline">
            <mat-label>Descrição</mat-label>
            <input matInput [(ngModel)]="finance.descricao" name="descricao">
        </mat-form-field>   
        <mat-form-field appearance="outline">
            <mat-label>Nota</mat-label>
            <textarea matInput [(ngModel)]="finance.nota" name="nota"></textarea>
        </mat-form-field> 
        <!-- FIM - DESCRIÇÃO | NOTA --> 

        <!-- INICIO - CONTEUDOS DE LISTAS -->   
        <div fxLayout="row wrap">
            <mat-form-field appearance="outline">
                <mat-label>Grupo</mat-label>
                <mat-select multiple [(ngModel)]="finance.grupos" [ngModelOptions]="{standalone: true}">
                    <mat-option *ngFor="let grp of grupos" [value]="grp.valor">
                                   {{ grp.valor }}
                      </mat-option>
               </mat-select>
            </mat-form-field>   
            <mat-form-field appearance="outline">
                <mat-label>Status</mat-label>
                <mat-select [(ngModel)]="finance.status" [ngModelOptions]="{standalone: true}">
                    <mat-option *ngFor="let sts of status" [value]="sts.valor">
                                   {{ sts.valor }}
                      </mat-option>
               </mat-select>
            </mat-form-field>   
            <mat-form-field appearance="outline">
                <mat-label>Instituição financeira</mat-label>
                <mat-select [(ngModel)]="finance.instituicao_financeira" [ngModelOptions]="{standalone: true}">
                    <mat-option *ngFor="let inst of instituicoes" [value]="inst.valor">
                                   {{ inst.valor }}
                      </mat-option>
               </mat-select>
            </mat-form-field>   
        </div>  
        <!-- FIM - CONTEUDOS DE LISTAS -->        

        <!-- INICIO - RENDA | GASTOS --> 
        <div>
            <mat-form-field appearance="outline">
                <mat-label>Renda</mat-label>
                <input matInput [(ngModel)]="finance.renda" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }" name="renda">
            </mat-form-field>   
            <mat-form-field appearance="outline">
                <mat-label>Gastos</mat-label>
                <input matInput [(ngModel)]="finance.gastos" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }" name="gastos">
            </mat-form-field>   
        </div>
        <!-- FIM - RENDA | GASTOS --> 

        <!-- INICIO - TAGS --> 
        <mat-form-field appearance="outline">
            <mat-chip-list #chipList [(ngModel)]="finance.tags" [ngModelOptions]="{standalone: true}">
              <mat-chip
                *ngFor="let tag of tags"
                [selectable]="selectable"
                [removable]="removable"
                (removed)="remove(tag)">
                {{tag}}
                <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
              </mat-chip>
              <input
                placeholder="Selecione ou insira tag..."
                #tagInput
                [formControl]="tagCtrl"
                [matAutocomplete]="auto"
                [matChipInputFor]="chipList"
                [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                (matChipInputTokenEnd)="add($event)">
            </mat-chip-list>
            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
              <mat-option *ngFor="let tag of filteredTags | async" [value]="tag">
                {{tag}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        <!-- FIM - TAGS --> 

    </form>
    <button mat-raised-button (click)="createFinance(tags)" color="primary">
        Salvar
    </button>
    
    <button mat-raised-button (click)="cancel()">
        Cancelar
    </button>
</mat-card>